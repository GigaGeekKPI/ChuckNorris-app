(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{10:function(e,t,a){e.exports=a(18)},15:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),i=a.n(o),c=(a(15),a(2)),s=a(3),l=a(1),u=a(5),h=a(4),m=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Greeting"},r.a.createElement("h2",{className:"greeting-header"},"Hey!"),r.a.createElement("p",{className:"greeting-paragraph"},"Let's find a joke for you:"))}}]),a}(r.a.Component),p=a(6),d=a.n(p),v=a(7),g=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e,t=r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"radio",id:this.props.category,name:"category",value:this.props.category,onChange:this.props.onSelect,style:{display:"none"}}),r.a.createElement("div",{className:"Category"},r.a.createElement("label",{htmlFor:this.props.category},this.props.category)));this.props.category.length&&(e=r.a.createElement("label",null,this.props.category));var a=r.a.createElement("div",{className:"Category"},e),n="onSelect"in this.props?t:a;return r.a.createElement(r.a.Fragment,null,n)}}]),a}(r.a.Component),f=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={categories:[]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,fetch("https://api.chucknorris.io/jokes/categories",{method:"GET"}).then((function(e){return e.json()}));case 3:e.t1=e.sent,e.t2={categories:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.state.categories.map((function(t,a){return r.a.createElement(g,{category:t,onSelect:e.props.onChange,key:a})})))}}]),a}(r.a.Component),y=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={decisionType:"random",category:"",query:""},n.getRandom=n.getRandom.bind(Object(l.a)(n)),n.getFromCategory=n.getFromCategory.bind(Object(l.a)(n)),n.getFromQuery=n.getFromQuery.bind(Object(l.a)(n)),n.handleDecisionChange=n.handleDecisionChange.bind(Object(l.a)(n)),n.onInputChange=n.onInputChange.bind(Object(l.a)(n)),n.onCategoryChange=n.onCategoryChange.bind(Object(l.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(l.a)(n)),n}return Object(s.a)(a,[{key:"handleSubmit",value:function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n,r,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=this.state.decisionType,n=this.state.query,e.t0=a,e.next="random"===e.t0?6:"category"===e.t0?10:"search"===e.t0?14:25;break;case 6:return e.next=8,this.getRandom();case 8:return r=e.sent,e.abrupt("break",26);case 10:return e.next=12,this.getFromCategory(this.state.category);case 12:return r=e.sent,e.abrupt("break",26);case 14:if(!(n.length>0)){e.next=21;break}return e.next=17,this.getFromQuery(n).then((function(e){return e.result}));case 17:o=e.sent,r=o[Math.floor(Math.random()*o.length)],e.next=24;break;case 21:return e.next=23,this.getRandom();case 23:r=e.sent;case 24:case 25:return e.abrupt("break",26);case 26:void 0===r||r.error?alert("Error"):(r.isFavourite=!1,this.props.addJoke(r));case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleDecisionChange",value:function(e){this.setState({decisionType:e.target.value,category:"",query:""})}},{key:"onInputChange",value:function(e){this.setState({query:e.target.value})}},{key:"onCategoryChange",value:function(e){this.setState({category:e.target.value})}},{key:"getRandom",value:function(){var e=Object(v.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.chucknorris.io/jokes/random",{method:"GET"}).then((function(e){return e.json()}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getFromCategory",value:function(){var e=Object(v.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.chucknorris.io/jokes/random?category=".concat(t),{method:"GET"}).then((function(e){return e.json()}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFromQuery",value:function(){var e=Object(v.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.chucknorris.io/jokes/search?query=".concat(t),{method:"GET"}).then((function(e){return e.json()}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t;return"search"===this.state.decisionType&&(e=r.a.createElement("input",{type:"text",value:this.state.query,onChange:this.onInputChange,required:!0,placeholder:"Free text search..."})),"category"===this.state.decisionType&&(t=r.a.createElement(f,{category:this.state.category,onChange:this.onCategoryChange})),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",{className:"radio-container"},r.a.createElement("input",{type:"radio",name:"ReqType",value:"random",checked:"random"===this.state.decisionType,onChange:this.handleDecisionChange}),r.a.createElement("span",null,"Random")),r.a.createElement("label",{className:"radio-container"},r.a.createElement("input",{type:"radio",name:"ReqType",value:"category",checked:"category"===this.state.decisionType,onChange:this.handleDecisionChange}),r.a.createElement("span",null,"From categories")),t,r.a.createElement("label",{className:"radio-container"},r.a.createElement("input",{type:"radio",name:"ReqType",value:"search",checked:"search"===this.state.decisionType,onChange:this.handleDecisionChange}),r.a.createElement("span",null,"Search")),e,r.a.createElement("button",{className:"submit-button"},"Get a joke"))}}]),a}(r.a.Component);var k=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={joke:n.props.joke},n.handleClick=n.handleClick.bind(Object(l.a)(n)),n}return Object(s.a)(a,[{key:"handleClick",value:function(){this.props.joke.isFavourite?(this.props.joke.isFavourite=!this.props.joke.isFavourite,this.props.removeFavourite(this.props.joke)):(this.props.joke.isFavourite=!this.props.joke.isFavourite,this.props.addFavourite(this.props.joke)),this.setState({joke:this.props.joke})}},{key:"render",value:function(){var e,t=this.props.joke.isFavourite?"favorite":"favorite_border",a=new Date-new Date(this.props.joke.updated_at);return r.a.createElement("article",{className:"joke-container"},r.a.createElement("button",{onClick:this.handleClick,className:"like-button"},r.a.createElement("span",{className:"material-icons",style:{color:"#FF6767"}},t)),r.a.createElement("section",{className:"joke-content"},r.a.createElement("p",{className:"message"},r.a.createElement("svg",{width:"20",height:"19",viewBox:"0 0 20 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M17.2504 0H2.74963C1.23352 0 0 1.23328 0 2.74963V11.6238C0 13.1367 1.22815 14.368 2.73987 14.3734V18.4004L8.5271 14.3734H17.2504C18.7665 14.3734 20 13.1399 20 11.6238V2.74963C20 1.23328 18.7665 0 17.2504 0ZM18.8281 11.6238C18.8281 12.4937 18.1204 13.2015 17.2504 13.2015H8.15942L3.91174 16.1573V13.2015H2.74963C1.87964 13.2015 1.17188 12.4937 1.17188 11.6238V2.74963C1.17188 1.87952 1.87964 1.17188 2.74963 1.17188H17.2504C18.1204 1.17188 18.8281 1.87952 18.8281 2.74963V11.6238Z",fill:"#ABABAB"}),r.a.createElement("path",{d:"M5.35291 4.14075H14.6471V5.31262H5.35291V4.14075Z",fill:"#ABABAB"}),r.a.createElement("path",{d:"M5.35291 6.64075H14.6471V7.81262H5.35291V6.64075Z",fill:"#ABABAB"}),r.a.createElement("path",{d:"M5.35291 9.14075H14.6471V10.3126H5.35291V9.14075Z",fill:"#ABABAB"}))),r.a.createElement("div",{className:"joke-content-info"},r.a.createElement("p",{className:"joke-content-info-id"},"ID:",r.a.createElement("a",{href:this.props.joke.url},this.props.joke.id),r.a.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M9.54545 0H5.90909C5.65806 0 5.45454 0.203515 5.45454 0.45455C5.45454 0.705585 5.65806 0.9091 5.90909 0.9091H8.44809L3.76952 5.58768C3.59204 5.76516 3.59204 6.05298 3.76952 6.2305C3.85825 6.31923 3.97458 6.36362 4.09091 6.36362C4.20724 6.36362 4.32359 6.31923 4.4123 6.23048L9.09092 1.55191V4.09091C9.09092 4.34194 9.29444 4.54546 9.54547 4.54546C9.7965 4.54546 10 4.34194 10 4.09091V0.45455C10 0.203515 9.79648 0 9.54545 0Z",fill:"#8EA7FF"}),r.a.createElement("path",{d:"M7.72725 4.54543C7.47622 4.54543 7.2727 4.74894 7.2727 4.99998V9.09089H0.90908V2.72725H4.99999C5.25103 2.72725 5.45454 2.52373 5.45454 2.2727C5.45454 2.02166 5.25103 1.81817 4.99999 1.81817H0.45455C0.203515 1.81817 0 2.02168 0 2.27272V9.54544C0 9.79645 0.203515 9.99997 0.45455 9.99997H7.72727C7.97831 9.99997 8.18182 9.79645 8.18182 9.54542V4.99998C8.1818 4.74894 7.97829 4.54543 7.72725 4.54543Z",fill:"#8EA7FF"}))),r.a.createElement("p",{className:"joke-content-info-value"},this.props.joke.value),r.a.createElement("div",{className:"joke-secondary-content"},r.a.createElement("p",null,"Last update: ",r.a.createElement("span",null,(e=a,Math.floor(e/1e3/60/60))," hours ago")),r.a.createElement(g,{category:this.props.joke.categories})))))}}]),a}(r.a.Component),b=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.props.jokes.map((function(t){return r.a.createElement(k,{joke:t,addFavourite:e.props.addFavourite,removeFavourite:e.props.removeFavourite,key:Math.random()})})))}}]),a}(r.a.Component),j=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e;return e=this.props.hidden?r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("circle",{cx:"14",cy:"14",r:"14",fill:"#333333"}),r.a.createElement("rect",{width:"14.8492",height:"2.12131",rx:"1.06065",transform:"matrix(0.707103 -0.707111 0.707103 0.707111 8 18.5)",fill:"white"}),r.a.createElement("rect",{width:"14.8492",height:"2.12131",rx:"1.06065",transform:"matrix(0.707103 0.707111 -0.707103 0.707111 9.5 8)",fill:"white"})):r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("circle",{cx:"14",cy:"14",r:"14",fill:"#333333"}),r.a.createElement("rect",{x:"7",y:"16",width:"14",height:"2",rx:"1",fill:"white"}),r.a.createElement("rect",{x:"7",y:"10",width:"14",height:"2",rx:"1",fill:"white"})),r.a.createElement("div",{className:"burger",onClick:this.props.toggle},r.a.createElement("h2",null,"Favourite"),r.a.createElement("div",null,e))}}]),a}(r.a.Component),E=(a(17),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={jokes:[],favourite:JSON.parse(localStorage.getItem("favourite")||"[]"),tick:!1,hidden:!1},n.addJoke=n.addJoke.bind(Object(l.a)(n)),n.addFavourite=n.addFavourite.bind(Object(l.a)(n)),n.removeFavourite=n.removeFavourite.bind(Object(l.a)(n)),n.toggle=n.toggle.bind(Object(l.a)(n)),n}return Object(s.a)(a,[{key:"addJoke",value:function(e){this.state.jokes.unshift(e),this.setState({tick:!this.state.tick})}},{key:"addFavourite",value:function(e){var t=this.state.favourite;t.unshift(e),localStorage.setItem("favourite",JSON.stringify(t)),this.setState({tick:!this.state.tick})}},{key:"toggle",value:function(){this.setState({hidden:!this.state.hidden})}},{key:"removeFavourite",value:function(e){var t=this.state.favourite,a=t.indexOf(e);t.splice(a,1),localStorage.setItem("favourite",JSON.stringify(t)),this.setState({tick:!this.state.tick})}},{key:"render",value:function(){var e,t;return this.state.hidden&&(t=r.a.createElement("div",{className:"dark-side"}),e=r.a.createElement("div",{className:"hidden-aside-container"},r.a.createElement("aside",{className:"Favourite"},r.a.createElement(b,{jokes:this.state.favourite,style:{color:"green"},removeFavourite:this.removeFavourite})))),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"main-container"},r.a.createElement("header",{className:"main-header"},r.a.createElement("h1",null,"MSI 2020")),r.a.createElement("main",null,r.a.createElement("article",null,r.a.createElement(m,null),r.a.createElement("section",null,r.a.createElement(y,{addJoke:this.addJoke})),r.a.createElement(b,{jokes:this.state.jokes,addFavourite:this.addFavourite,removeFavourite:this.removeFavourite})))),r.a.createElement("div",{className:"aside-container"},r.a.createElement("aside",{className:"Favourite"},r.a.createElement("h2",null,"Favourite"),r.a.createElement(b,{jokes:this.state.favourite,style:{color:"green"},removeFavourite:this.removeFavourite}))),r.a.createElement(j,{toggle:this.toggle,hidden:this.state.hidden}),e,t)}}]),a}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.586dac07.chunk.js.map